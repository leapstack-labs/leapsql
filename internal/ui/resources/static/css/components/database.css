/* css/components/database.css - Database Browser Styles */

.db-status {
  display: flex;
  align-items: center;
  gap: var(--ui-space-sm);
  padding: var(--ui-space-sm);
}

.db-status__indicator {
  width: var(--ui-space-sm);
  height: var(--ui-space-sm);
  border-radius: 50%;
}

.db-status__indicator--connected {
  background: var(--ui-color-tertiary);
}

.db-status__indicator--disconnected {
  background: var(--ui-color-error);
}

.db-status__text {
  font-size: var(--ui-type-size-sm);
  color: var(--ui-color-surface-variant-on);
}

.db-tree {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.db-schema {
  margin-bottom: 2px;
}

.db-schema > summary {
  list-style: none;
}

.db-schema > summary::-webkit-details-marker {
  display: none;
}

.db-schema__header {
  display: flex;
  align-items: center;
  gap: var(--ui-space-sm);
  padding: var(--ui-space-xs) var(--ui-space-sm);
  border-radius: var(--ui-radius-sm);
  cursor: pointer;
  font-size: var(--ui-type-size-sm);
  font-weight: var(--ui-weight-medium);
}

.db-schema__header:hover {
  background: var(--ui-color-surface-container-high);
}

.db-schema__icon {
  width: var(--ui-space-sm);
  text-align: center;
  font-family: var(--ui-font-code);
  font-size: var(--ui-type-size-sm);
  color: var(--ui-color-surface-variant-on);
}

.db-schema[open] > summary .db-schema__icon::before {
  content: "-";
}

.db-schema:not([open]) > summary .db-schema__icon::before {
  content: "+";
}

.db-schema__name {
  color: var(--ui-color-surface-on);
}

.db-schema__tables {
  margin-left: var(--ui-space-sm);
  padding-left: var(--ui-space-sm);
  border-left: 1px solid var(--ui-color-outline-variant);
}

.db-table {
  display: flex;
  align-items: center;
  gap: var(--ui-space-sm);
  padding: var(--ui-space-xs) var(--ui-space-sm);
  border-radius: var(--ui-radius-sm);
  cursor: pointer;
  font-size: var(--ui-type-size-sm);
}

.db-table:hover {
  background: var(--ui-color-surface-container-high);
}

.db-table__icon {
  width: var(--ui-space-sm);
  text-align: center;
  font-family: var(--ui-font-code);
  font-size: var(--ui-type-size-xs);
  font-weight: var(--ui-weight-semibold);
  color: var(--ui-color-surface-variant-on);
}

.db-table--table .db-table__icon {
  color: var(--ui-color-tertiary);
}

.db-table--view .db-table__icon {
  color: var(--ui-color-primary);
}

.db-table__name {
  font-family: var(--ui-font-code);
  font-size: var(--ui-type-size-sm);
}

/* Database Table Detail */
.db-table-detail {
  display: flex;
  flex-direction: column;
  gap: var(--ui-space-sm);
}

.db-table-detail__header {
  display: flex;
  flex-direction: column;
  gap: var(--ui-space-xs);
}

.db-table-detail__name {
  font-weight: var(--ui-weight-semibold);
  font-size: var(--ui-type-size-base);
}

.db-table-detail__schema {
  font-size: var(--ui-type-size-sm);
  color: var(--ui-color-surface-variant-on);
  font-family: var(--ui-font-code);
}

.db-table-detail__section {
  display: flex;
  flex-direction: column;
  gap: var(--ui-space-sm);
}

.db-table-detail__label {
  font-size: var(--ui-type-size-xs);
  font-weight: var(--ui-weight-semibold);
  text-transform: uppercase;
  color: var(--ui-color-surface-variant-on);
}

.db-table-detail__columns {
  list-style: none;
  padding: 0;
  margin: 0;
  max-height: 300px;
  overflow-y: auto;
}

.db-table-detail__column {
  display: flex;
  align-items: center;
  gap: var(--ui-space-sm);
  padding: var(--ui-space-xs) 0;
  font-size: var(--ui-type-size-sm);
  border-bottom: var(--ui-border-sm) solid var(--ui-color-outline-variant);
}

.db-table-detail__column:last-child {
  border-bottom: none;
}

.db-table-detail__column-name {
  font-family: var(--ui-font-code);
  flex: 1;
}

.db-table-detail__column-type {
  font-size: var(--ui-type-size-xs);
  padding: 1px var(--ui-space-xs);
  background: var(--ui-color-surface-container-high);
  border-radius: 3px;
  color: var(--ui-color-surface-on);
}

.db-table-detail__column-nullable {
  font-size: var(--ui-type-size-xs);
  color: var(--ui-color-secondary);
  font-weight: var(--ui-weight-semibold);
}
